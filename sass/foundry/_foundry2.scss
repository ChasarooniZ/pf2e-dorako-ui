:root {
  --color-warm-1: #ee9b3a;
  --color-warm-2: #c9593f;
  --color-warm-3: #5d142b;
  --color-warm-4: #420418; // custom
  --color-warm-5: #26020d; // custom

  --color-cool-1: #b1a0d4; // custom
  --color-cool-2: #79689c; // custom
  --color-cool-3: #584a75;
  --color-cool-4: #302831;
  --color-cool-5: #0b0a13;

  --color-cool-5-25: rgba(11, 10, 19, 0.25);
  --color-cool-5-50: rgba(11, 10, 19, 0.5);
  --color-cool-5-75: rgba(11, 10, 19, 0.75);
  --color-cool-5-90: rgba(11, 10, 19, 0.9);

  --color-light-1: #f7f3e8;
  --color-light-2: #efe6d8;
  --color-light-3: #e7d1b1;
  --color-light-4: #d0b8a3;
  --color-light-5: #9f8475;
  --color-light-6: #816b66;

  --color-level-error: #ce0707;
  --color-level-error-bg: rgba(105, 0, 8, 0.8);
  --color-level-error-border: #750003;
  --color-level-info: #59a1f6;
  --color-level-info-bg: rgba(47, 80, 132, 0.8);
  --color-level-info-border: #5c87b9;
  --color-level-success: #26b231;
  --color-level-success-bg: rgba(26, 107, 34, 0.8);
  --color-level-success-border: #1b8f23;
  --color-level-warning: #ee9b3a;
  --color-level-warning-bg: rgba(214, 150, 0, 0.8);
  --color-level-warning-border: #b18404;

  --color-level-green-bg: rgba(138, 211, 4, 0.4); // custom from website
  --color-level-green-border: #8ad304; // custom from website
  --color-level-yellow-bg: rgba(211, 192, 4, 0.4); // custom from website
  --color-level-yellow-border: #d3c004; // custom from website
  --color-level-orange-bg: rgba(211, 119, 4, 0.4); // custom from website
  --color-level-orange-border: #d37704; // custom from website
  --color-level-red-bg: rgba(211, 20, 4, 0.4); // custom from website
  --color-level-red-border: #d31404; // custom from website

  --color-scrollbar: #5d142b;
  --color-scrollbar-border: #8d151b;

  --app-background: var(--color-cool-5-90);
  --app-border-color: var(--color-cool-4);
}

.foundry2-pc,
.foundry2 {
  // Undo v1 styling
  --color-shadow-primary: transparent;
  --color-shadow-highlight: transparent;
  --color-border-light-highlight: var(--color-cool-3);
  --color-border-light-primary: var(--color-cool-4);
  --color-border-light-secondary: var(--color-cool-4);
  --color-border-light-tertiary: var(--color-cool-4);
  --color-border-dark-1: var(--color-cool-4); // darkest
  --color-border-dark-2: var(--color-cool-4);
  --color-border-dark-3: var(--color-cool-4);
  --color-border-dark-4: var(--color-cool-3);
  --color-border-dark-5: var(--color-cool-2);
  --color-border-dark-primary: var(--color-cool-4);
  --color-border-dark-secondary: var(--color-cool-5);
  --color-underline-header: var(--color-warm-2);
  --color-underline-active: var(--color-warm-1);
  --color-text-hyperlink: var(--color-warm-1);
  --input-height: 24px;
  --color-border-highlight: var(--color-warm-1);
  --color-border-highlight-alt: var(--color-warm-2);
  --color-border-light-tertiary: var(--color-cool-4);
  --color-bg-btn-minor-inactive: var(--app-background);
  --color-bg-btn-minor-active: var(--color-warm-2);
  --color-text-dark-primary: var(--color-light-3);
  --color-text-dark-secondary: var(--color-light-5);
  --color-bg-option: var(--color-cool-4); // input-background-color

  // Dark theme
  --color-rarity-common: #efeadc;
  --color-rarity-uncommon: #c45500;
  --color-rarity-rare: #5362ff;
  --color-rarity-unique: #e127e1;
  --ornamentation: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='33' height='33' overflow='scroll'%3E%3Cstyle%3E.st1{stroke:wheat;stroke-miterlimit:10}.st1,.st2{fill:none}%3C/style%3E%3Cg opacity='1'%3E%3Cpath class='st1' d='M.5 20v-7'/%3E%3Cpath class='st2' d='M13 20v-7'/%3E%3Cpath class='st1' d='M13 .5h7'/%3E%3Cpath class='st2' d='M13 13h7'/%3E%3Cpath class='st1' d='M32.5 13v7'/%3E%3Cpath class='st2' d='M20 13v7'/%3E%3Cpath class='st1' d='M20 32.5h-7'/%3E%3Cpath class='st2' d='M20 20h-7'/%3E%3Cpath class='st1' d='M.5.5h3.1v3.1H.5zm3.1 3.1h3.1v3.1H3.6zm3.2 0h3.1v3.1H6.8zM3.6 6.8h3.1v3.1H3.6zm0 0H.5V13M13 .5H6.8v3.1M29.4.5h3.1v3.1h-3.1zm-3.1 3.1h3.1v3.1h-3.1zm0 3.2h3.1v3.1h-3.1zm-3.2-3.2h3.1v3.1h-3.1zm3.2 0V.5H20M32.5 13V6.8h-3.1M29.4 29.4h3.1v3.1h-3.1z'/%3E%3Cpath class='st1' d='M26.3 26.3h3.1v3.1h-3.1zm-3.2 0h3.1v3.1h-3.1zm3.2-3.2h3.1v3.1h-3.1z'/%3E%3Cpath class='st1' d='M29.4 26.3h3.1V20M20 32.5h6.3v-3.1'/%3E%3Cg%3E%3Cpath class='st1' d='M.5 29.4h3.1v3.1H.5zm3.1-3.1h3.1v3.1H3.6zm0-3.2h3.1v3.1H3.6zm3.2 3.2h3.1v3.1H6.8zM6.8 29.4v3.1H13M.5 20v6.3h3.1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");

  color: var(--color-light-3);

  ::-webkit-scrollbar-thumb {
    outline: none;
    border-radius: 3px;
    background: var(--color-scrollbar);
    border: 1px solid var(--color-scrollbar-border);
    transition: outline 0.15s;
    &:hover {
      outline: 4px solid var(--color-warm-1);
    }
  }

  ::-webkit-scrollbar-track {
    box-shadow: 0 0 1px var(--color-cool-3) inset;
    box-shadow: unset;
    border-radius: 4px;
  }

  a.content-link,
  [data-pf2-check],
  a.entity-link,
  [data-pf2-action],
  span[data-pf2-effect-area],
  a.inline-check .label,
  a.inline-roll:not(.inline-result) {
    background: var(--color-cool-4);
    border: 1px solid var(--color-cool-3);
    color: var(--color-light-2);

    &::before,
    i,
    i.icon {
      color: var(--color-light-1);
    }
  }

  i[data-pf2-repost] {
    @include quick-transition;
    cursor: pointer;
    background: unset;
    border-left: unset;
    &:hover::before {
      color: var(--color-warm-2);
    }
  }

  input[type="text"],
  input[type="number"],
  input[type="password"],
  input[type="date"],
  input[type="time"],
  input[type="search"] {
    min-width: 24px;
  }
}

.foundry2 {
  // System compat mode
  --alt: var(--color-cool-3);
  --bg: var(--color-warm-3);
  --visibility-gm-bg: var(--color-warm-3);
  --blind-roll: var(--color-warm-3);

  [data-visibility]:not([data-visibility="all"]) {
    outline: 1px dashed var(--color-scrollbar-border);
  }

  section.chat-sidebar .jump-to-bottom {
    z-index: 1;
    > a {
      @include f2-app;
      @include quick-transition;
      border-radius: 0px;
      border-left: unset;
      border-right: unset;
      background-color: var(--color-scrollbar);
      border-color: var(--color-scrollbar-border);
      &:hover {
        background-color: var(--color-warm-2);
        border-color: var(--color-warm-1);
      }
    }
  }

  hr {
    border: none;
    border-top: 1px solid var(--color-cool-3);
    border-bottom: 1px solid var(--color-cool-5);
  }

  &.dialog .dialog-buttons button.default {
    background: var(--button-background-color);
    border: 1px solid var(--button-border-color);
  }

  form .form-group .form-fields button {
    height: var(--form-field-height);
  }

  &.filepicker .favorites .paths {
    box-shadow: unset;
    border: 1px solid var(--color-cool-3);
    background: var(--color-cool-5-50);
    .path {
      @include f2-button-cool;
      border-radius: 3px;
    }
  }

  &.filepicker .current-dir button {
    height: 32px;
  }

  &.package-configuration aside.sidebar nav.tabs {
    gap: 5px;
    .category-tab {
      padding: 4px 8px;
    }
  }

  &.sheet nav.sheet-tabs {
    border: none;
  }

  input[type="range"]::-webkit-slider-runnable-track {
    box-shadow: unset;
    border-radius: 3px;
    background: var(--color-cool-5);
    border: 1px solid var(--color-cool-4);
  }

  input[type="range"]::-webkit-slider-thumb {
    box-shadow: unset;
    background: var(--color-cool-3);
    border: 1px solid var(--color-cool-4);
    background: var(--color-warm-2);
    border: 1px solid var(--color-warm-1);
    border-radius: 50%;
    transition: outline 0.15s;
    &:hover {
      outline: 4px solid var(--color-warm-1);
    }
  }

  input[type="color" i]::-webkit-color-swatch {
    border-color: var(--color-cool-4);
  }

  input[type="range"] + .range-value {
    flex: none;
    height: 24px;
    padding: 0 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    background: var(--color-cool-4);
    border: 1px solid var(--color-cool-3);
    color: var(--color-light-2);
    border-radius: 2px;
    font-size: var(--font-size-12);
    opacity: 0.75;
  }

  .directory .action-buttons button {
    --box-shadow: 0px 1px 3px 1px black;
    box-shadow: var(--box-shadow);
  }

  .directory .directory-header .header-search input {
    background: var(--color-cool-4);
    --box-shadow: 0px 1px 3px 1px black;
    box-shadow: var(--box-shadow);
  }

  .directory .action-buttons button,
  .settings-sidebar button {
    --box-shadow: 0px 1px 3px 1px black;
    box-shadow: var(--box-shadow);
    &:hover {
    }
  }

  #chat-form {
    textarea {
      transition: outline 0.5s;
      background: var(--color-cool-4);
      //   border: 1px solid var(--color-cool-3);      // no border since --glassy
      &:focus {
        outline: 2px solid var(--color-cool-3);
      }
    }
  }

  &#sidebar {
    border: 1px solid var(--color-cool-3);
    // Dorako UI compat mode

    --glassy: 0px 0px 0px 1px var(--color-cool-3);
    --glass-bg-light: var(--app-background);
    --glassy: 0px 0px 0px 1px var(--color-cool-3), 0px 1px 3px 1px black;
    --glass-bg-light: var(--color-cool-5-50);
    // --glass-bg-light: var(--color-cool-4);
    --gold-and-glow: transparent;
    --primary-dark: var(--color-warm-3);
    --primary: var(--color-warm-2);
    --primary-light: var(--color-warm-1);
    // --secondary-dark: var(--color-cool-3);
    // --secondary: var(--color-cool-2);
    // --secondary-light: var(--color-cool-1);
    --secondary-dark: var(--color-warm-3);
    --secondary: var(--color-warm-2);
    --secondary-light: var(--color-warm-2);
    --color-text-light-heading: var(--color-light-3);
    --color-text-light-highlight: var(--color-light-2);

    // prettier-ignore
    --warm-background: radial-gradient(circle at bottom, color-mix(in srgb, var(--color-warm-1) 10%, transparent), transparent),
                       linear-gradient(to bottom, color-mix(in srgb, var(--color-warm-3) 30%, transparent), transparent),
                       var(--app-background);
    background: var(--warm-background);

    // Allows dorako-ui chat themes to be used
    .dorako-ui.message.chat-message.dark-theme {
      background: var(--app-background);
      box-shadow: unset;
      border: 1px solid var(--color-warm-1);
    }
  }

  &.app {
    border-radius: var(--border-radius);
    background: unset;

    // warm inside
    // prettier-ignore
    // --warm-background: radial-gradient(circle at top, color-mix(in srgb, var(--color-warm-1) 20%, transparent), transparent),
    //                    radial-gradient(ellipse at bottom, color-mix(in srgb, var(--color-warm-3) 30%, transparent), transparent),
    //                    var(--app-background);
    // background: var(--warm-background);
    // border: 1px solid var(--color-warm-1);

    // cool
    background: var(--app-background);
    border-color: var(--app-border-color);
    border: 1px solid var(--color-cool-3);

    // warm borders, no transparency
    // background: linear-gradient(var(--app-background), var(--app-background)) padding-box,
    //   linear-gradient(to bottom, var(--color-warm-1), var(--color-warm-3)) border-box;
    // border: 1px solid transparent;
  }

  &.window-app {
    backdrop-filter: blur(4px);
    // prettier-ignore
    box-shadow: 0px 5px 20px 3px black,
                0px 0px 50px 30px color-mix(in srgb, var(--color-warm-3) 10%, transparent),
                0px 0px 30px 20px color-mix(in srgb, var(--color-warm-2) 20%, transparent),
                0px 0px 10px 05px color-mix(in srgb, var(--color-warm-1) 40%, transparent);

    .window-header {
      border: unset;
    }

    .window-content {
      background: unset;
      box-shadow: unset;
    }

    .window-resizable-handle {
      //   background: var(--color-cool-4);
      background: var(--color-warm-4);
      border: 1px solid var(--color-cool-4);
      border-radius: 4px 0px var(--border-radius) 0px;
      border-bottom-color: var(--color-warm-3);
      border-right-color: var(--color-warm-3);
      bottom: -1px;
      right: -1px;
    }
  }

  h1 {
    // font-family: var(--font-h1);
    // font-size: var(--font-h1-size);
    color: var(--color-light-1);
  }
  h2 {
    // font-family: var(--font-h2);
    // font-size: var(--font-h2-size);
    color: var(--color-light-1);
  }
  h3 {
    // font-family: var(--font-h3);
    // font-size: var(--font-h3-size);
    color: var(--color-light-1);
  }
  h4 {
    // font-family: var(--font-h4);
    // font-size: var(--font-h4-size);
    color: var(--color-light-2);
  }
  h5 {
    // font-family: var(--font-h5);
    // font-size: var(--font-h5-size);
    color: var(--color-light-2);
  }
  h6 {
    // font-family: var(--font-h6);
    // font-size: var(--font-h6-size);
    color: var(--color-light-2);
  }

  a.button,
  button {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 0.5rem;
    background: var(--button-background-color);
    border: 1px solid var(--button-border-color);
    border-radius: 4px;
    color: var(--button-text-color);
    text-decoration: none;
    cursor: pointer;
    font-size: var(--font-size-14);
    gap: 5px;
    --box-shadow: 0px 1px 3px 1px black;
    box-shadow: var(--box-shadow);
    text-shadow: 0px 1px 2px black;

    &:hover {
      background: var(--button-hover-background-color);
      color: var(--button-hover-text-color);
      border-color: var(--button-hover-border-color);
      transition: background-color 0.5s, border-color 0.5s;
    }

    &.active {
      outline: 1px solid var(--button-focus-outline-color);
      box-shadow: 0 0 4px var(--button-focus-outline-color);
    }
  }

  a.button,
  button {
    @include f2-button-warm;
  }

  &#token-action-hud-core-settings input,
  input[type="text"],
  input[type="number"],
  input[type="password"],
  input[type="date"],
  input[type="time"],
  input[type="search"],
  select {
    @include f2-input;
    // // width: 100%;
    // height: var(--input-height);
    // line-height: var(--input-height);
    // padding: 0 0.5rem;
    // background: var(--input-background-color);
    // border: 1px solid var(--input-border-color);
    // border-radius: 4px;
    // --box-shadow: 0px 1px 3px 1px black;
    // box-shadow: var(--box-shadow);
    // outline: 1px solid transparent;
    // color: var(--input-text-color);
    // user-select: text;
    // font-size: var(--font-size-14);
    // transition: outline-color 0.5s;

    // &:not(:disabled, .disabled):hover,
    // &:focus {
    //   cursor: pointer;
    //   outline: 2px solid var(--input-focus-outline-color);
    // }
  }

  input[type="checkbox"]:checked,
  input[type="radio"]:checked {
    accent-color: var(--color-warm-2);
  }

  input,
  select {
    --input-background-color: var(--color-cool-4);
    --input-border-color: transparent;
    --input-border-color: var(--color-cool-3);
    --input-text-color: var(--color-light-3);
    --input-focus-outline-color: var(--color-cool-3);
    --input-text-selection-color: var(--color-cool-3);
  }

  fieldset {
    border: 1px solid var(--color-cool-3);
    border-radius: var(--border-radius);
    > legend {
      color: var(--color-light-2);
      text-shadow: unset;
    }
  }
}

/* ----------------------------------------- */
/* Core overwrites                           */
/* ----------------------------------------- */

.foundry2 {
  &.window-app .tabs .item {
    @include f2-button-warm;
    padding: 4px 8px;
  }

  &.app.token-sheet .tab.active[data-tab="appearance"] fieldset {
    border-color: var(--color-cool-3);
    > legend {
      color: var(--color-light-2);
    }
  }
  &.sheet nav.sheet-tabs {
    gap: 5px;
    // margin: 0px 2px;
  }
  &.sheet nav.sheet-tabs .item {
    // --button-border-color: transparent; // bad foundry default
    --button-border-color: var(--color-cool-4);
  }
}

.foundry2 {
  &.sheet.journal-entry .journal-entry-content {
    background: unset;
    border: unset;
  }
  &.journal-sheet .journal-header .title {
    background: var(--color-cool-4);
  }
  .editor-edit {
    @include f2-button-warm;
    border-radius: 3px;
    padding: 2px 5px;
  }

  table tr:nth-child(even) {
    background: color-mix(in srgb, var(--color-cool-3) 20%, transparent);
  }

  section.readaloud {
    --ornamentation: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='33' height='33' overflow='scroll'%3E%3Cstyle%3E.st1{stroke:wheat;stroke-miterlimit:10}.st1,.st2{fill:none}%3C/style%3E%3Cg opacity='1'%3E%3Cpath class='st1' d='M.5 20v-7'/%3E%3Cpath class='st2' d='M13 20v-7'/%3E%3Cpath class='st1' d='M13 .5h7'/%3E%3Cpath class='st2' d='M13 13h7'/%3E%3Cpath class='st1' d='M32.5 13v7'/%3E%3Cpath class='st2' d='M20 13v7'/%3E%3Cpath class='st1' d='M20 32.5h-7'/%3E%3Cpath class='st2' d='M20 20h-7'/%3E%3Cpath class='st1' d='M.5.5h3.1v3.1H.5zm3.1 3.1h3.1v3.1H3.6zm3.2 0h3.1v3.1H6.8zM3.6 6.8h3.1v3.1H3.6zm0 0H.5V13M13 .5H6.8v3.1M29.4.5h3.1v3.1h-3.1zm-3.1 3.1h3.1v3.1h-3.1zm0 3.2h3.1v3.1h-3.1zm-3.2-3.2h3.1v3.1h-3.1zm3.2 0V.5H20M32.5 13V6.8h-3.1M29.4 29.4h3.1v3.1h-3.1z'/%3E%3Cpath class='st1' d='M26.3 26.3h3.1v3.1h-3.1zm-3.2 0h3.1v3.1h-3.1zm3.2-3.2h3.1v3.1h-3.1z'/%3E%3Cpath class='st1' d='M29.4 26.3h3.1V20M20 32.5h6.3v-3.1'/%3E%3Cg%3E%3Cpath class='st1' d='M.5 29.4h3.1v3.1H.5zm3.1-3.1h3.1v3.1H3.6zm0-3.2h3.1v3.1H3.6zm3.2 3.2h3.1v3.1H6.8zM6.8 29.4v3.1H13M.5 20v6.3h3.1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  }
}

/* ----------------------------------------- */
/* System overwrites                         */
/* ----------------------------------------- */

.foundry2 {
  &.pf2e.item.sheet {
    --color-text-dark-2: var(--color-light-3);
    --color-text-dark-4: var(--color-light-3);
    --color-text-dark-input: var(--color-light-3);
    --color-border-dark: var(--color-light-2);
    --color-border-medium: var(--color-cool-3);

    input:disabled {
      --button-background-color: var(--color-cool-5);
      --button-border-color: var(--color-cool-4);
      --button-hover-background-color: var(--color-cool-5);
      --button-text-color: var(--color-light-5);
      background: var(--button-background-color);
      border: 1px solid var(--button-border-color);
      color: var(--button-text-color);
      border-radius: 3px;
    }
  }

  &#generate-check-prompt {
    nav h4 a {
      @include f2-button-warm;
      padding: 4px 8px;
    }
  }

  &.pf2e.item.sheet form .form-list,
  &.pf2e.item.sheet form section.sheet-body fieldset {
    border-color: var(--color-cool-3);
    > legend {
      color: var(--color-light-2);
    }
    &.basics {
      border-color: transparent;
    }
  }

  &.pf2e.item.sheet form .sheet-body .tab.active.description .editor a.add-gm-notes {
    @include f2-button-warm;
    border-radius: 3px;
    display: flex;
    align-content: center;
    justify-content: center;
    right: 40px;
    height: 28px;
    width: 28px;
    background-color: var(--color-warm-4);
    border-color: var(--color-warm-3);
    > i {
      margin-top: 3px;
    }
  }

  &.pf2e.item.sheet form .sheet-body .tab.active.description .editor a.editor-edit {
    @include f2-button-cool;
    border-radius: 3px;
    // display: flex;
    align-content: center;
    justify-content: center;
    height: 28px;
    width: 28px;
  }

  &.pf2e.item.sheet form .sheet-content section.sidebar .item-summary,
  &.pf2e.item.sheet form .sheet-content section.sheet-sidebar .item-summary {
    color: var(--color-light-2);
  }

  .tags .tag.tag_transparent,
  .tags .tag option.tag_transparent {
    box-shadow: 0px 0px 0px 1px rgba(255, 255, 255, 0.2) inset;
    background: var(--color-cool-4);
    color: var(--color-light-3);
  }

  &.pf2e.item.sheet form .sheet-content input[type="text"],
  &.pf2e.item.sheet form .sheet-content input[type="number"],
  &.pf2e.item.sheet form .sheet-content select,
  &.pf2e.item.sheet .sheet-header input[type="text"],
  &.pf2e.item.sheet .sheet-header input[type="number"],
  &.pf2e.item.sheet form section.sheet-body input[type="text"],
  &.pf2e.item.sheet form section.sheet-body input[type="number"] {
    background: var(--input-background-color);
    border: 1px solid var(--input-border-color);
    &:focus {
      outline: 2px solid var(--input-focus-outline-color);
    }
  }

  &.pf2e.item.sheet form .sheet-content button:hover:not(:disabled),
  &.pf2e.item.sheet form .sheet-content button:focus {
    border: 1px solid var(--button-border-color);
    box-shadow: unset;
  }

  &.pf2e.item.sheet form .sheet-content input:not([type="range"]):hover:not(:disabled),
  &.pf2e.item.sheet form .sheet-content input:not([type="range"]):focus,
  &.pf2e.item.sheet form .sheet-content select:hover:not(:disabled),
  &.pf2e.item.sheet form .sheet-content select:focus {
    border: 1px solid var(--input-border-color);
    box-shadow: unset;
  }

  &.pf2e.item.sheet.action form .drop-zone a.content-link,
  &.pf2e.item.sheet.action form .drop-zone picture,
  &.pf2e.item.sheet.action form .drop-zone img {
    background: var(--color-cool-4);
    border: 1px solid var(--color-cool-3);
  }

  &.pf2e.item.sheet .sheet-header {
    border: unset;
  }

  &.pf2e.item.sheet form > nav {
    border: unset;
  }

  &.pf2e.item.sheet form > nav .sheet-tabs {
    gap: 5px;
    margin: 2px;
    > a {
      @include f2-button-warm;
    }
  }

  &.pf2e.item.sheet form .effects-container,
  &.pf2e.item.sheet form .details-container,
  &.pf2e.item.sheet form .dice-data {
    gap: 5px;
    align-items: center;
  }

  &.pf2e.item.sheet form section.sheet-body .item-mystification.active .mystification-status label {
    color: var(--color-text-dark-4); // System using hardcoded color
  }

  &.pf2e.item.sheet form .sheet-body .tab.active.description .gm-notes,
  &.pf2e.item.sheet form section.sheet-body .item-description .descriptions .gm-notes {
    @include f2-app;
    background-color: var(--visibility-gm-bg);
    border-style: dashed;
    border-color: var(--color-warm-4);
  }

  &.pf2e.item.sheet form section.sheet-body .item-description .descriptions .editor a.add-gm-notes,
  &.pf2e.item.sheet form section.sheet-body .item-description .descriptions .editor a.editor-edit {
    background: var(--color-cool-4);
    border: 1px solid var(--color-cool-3);
    color: var(--color-light-2);
  }

  &.pf2e.item.sheet .sheet-header img {
    border: 1px solid var(--color-cool-3);
    border-radius: 3px;
  }

  &.pf2e.item.sheet form .tab.active.rules .rule-form .attached-input .attachment,
  &.pf2e.item.sheet form .item-rules .rule-form .attached-input .attachment {
    --button-border-color: var(--color-warm-2);
    --button-background-color: var(--color-warm-3);
    --button-hover-border-color: var(--color-warm-4);
    --button-hover-background-color: var(--color-warm-5);
    z-index: 1;
  }

  &.pf2e.item.sheet form .tab.active.rules select {
    height: var(--input-height);
  }

  &.pf2e.item.sheet form .item-rules .rule-form .attached-input input,
  &.pf2e.item.sheet form .item-rules .rule-form .attached-input tags {
    border-left: unset;
    &:hover {
      border-left: unset;
    }
  }

  textarea {
    color: var(--color-light-2);
    background: var(--color-cool-4);
    border: 1px solid var(--color-cool-3);
  }

  //   .tags.tags.paizo-style {
  //     // @include f2-input;
  //     // background-color: var(--color-cool-5);
  //   }

  .tagify,
  tags.tagify.pf2e-tagify {
    --tags-disabled-bg: #f1f1f1;
    --tags-border-color: #ddd;
    --tags-hover-border-color: #ccc;
    --tags-focus-border-color: #3595f6;
    --tag-border-radius: 3px;
    --tag-bg: #e5e5e5;
    --tag-hover: #d3e2e2;
    --tag-text-color: black;
    --tag-text-color--edit: black;
    --tag-pad: 0.3em 0.5em;
    --tag-inset-shadow-size: 1.1em;
    --tag-invalid-color: #d39494;
    --tag-invalid-bg: rgba(211, 148, 148, 0.5);
    --tag-remove-bg: rgba(211, 148, 148, 0.3);
    --tag-remove-btn-color: black;
    --tag-remove-btn-bg: none;
    --tag-remove-btn-bg--hover: #c77777;
    --input-color: inherit;
    --tag-hide-transition: 0.3s;
    --placeholder-color: rgba(0, 0, 0, 0.4);
    --placeholder-color-focus: rgba(0, 0, 0, 0.25);

    --tag-bg: var(--color-warm-2);
    --tags-border-color: var(--color-cool-3);
    --tags-hover-border-color: var(--color-cool-3);
    --tag-color: var(--color-light-2);

    --tag-bg: var(--color-cool-4);
    --tag-border-color: var(--color-cool-3);
    --tags-border-color: var(--color-cool-3);

    border: 1px solid var(--tag-border-color);
    border-radius: 3px;

    &.tagify--empty .tagify__input::before {
      color: var(--color-light-5);
    }

    background: var(--color-cool-4);
    &:hover {
      box-shadow: unset;
    }
    select.tag {
      border-width: 1px 1px 1px 1px;
      height: var(--font-size-23);
    }

    tag {
      border-radius: 4px;
      border: 1px solid var(--tag-border-color);
    }
    tag .tagify__tag__removeBtn {
      width: 12px;
      height: 12px;
      font: 12px/1 Arial;
    }
    tag .tagify__tag__removeBtn,
    tag > div .tagify__tag-text {
      color: var(--tag-color);
    }
  }

  tags.paizo-style {
    select {
      width: auto;
    }
  }

  .tox .tox-sidebar-wrap {
    background-color: white;
  }
  .tags .tag {
    height: auto;
    padding: 3px 3px;
  }

  .tags,
  .tags.paizo-style {
    gap: 1px;

    tag {
      height: auto;
    }

    select.tag,
    .tag:not(.tag_transparent),
    tag:not(.tag_transparent) {
      border-radius: 0px;
      box-shadow: unset;
      border: 1px solid var(--tertiary);
      outline: 1px solid var(--gold-brown);
      padding: 0.33em 0.33em;
    }
    .tag:first-child,
    select.tag:first-child,
    tag:first-child {
      border-left-width: 1px;
    }
    .tag:first-child,
    select.tag:last-child,
    tag:last-child {
      border-right-width: 1px;
    }
  }
}
