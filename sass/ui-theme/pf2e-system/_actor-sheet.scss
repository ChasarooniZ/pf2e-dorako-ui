[data-theme] {
  &.pf2e.actor {
    --contrastive-transparent: rgba(255, 255, 255, 0.2);
  }

  &.actor.sheet .item-image:hover i {
    color: white;
    background: var(--color-primary-2);
    text-shadow: 0px 1px 2px black;
    border-radius: 2px;
  }

  &.actor.sheet section.window-content .inventory ul.items > li > .data .item-controls > a.toggle-invested.active,
  &.actor.sheet section.window-content .inventory ul.items > li > .data .item-controls > a.item-carry-type.active,
  &.actor.sheet .window-content .inventory ul.items > li > .data .item-controls > a.toggle-invested.active,
  &.actor.sheet .window-content .inventory ul.items > li > .data .item-controls > a.item-carry-type.active {
    --secondary: var(--accent-color);
    --color-pf-secondary: var(--accent-color);
    --fa-inverse: var(--accent-text-color);
  }

  &.actor.sheet section.window-content .inventory ul.items > li > .data .item-controls > a.toggle-invested:not(.active),
  &.actor.sheet section.window-content .inventory ul.items > li > .data .item-controls > a.item-carry-type:not(.active),
  &.actor.sheet .window-content .inventory ul.items > li > .data .item-controls > a.toggle-invested:not(.active),
  &.actor.sheet .window-content .inventory ul.items > li > .data .item-controls > a.item-carry-type:not(.active) {
    text-shadow: 0px 0px 0px white;
  }

  &.actor.sheet .crb-style .sheet-body .sheet-content .tab.actions ol.actions-list li.action .item-name,
  &.actor.sheet .crb-style .sheet-body .sheet-content .tab.actions ol.actions-list li.strike .item-name {
    gap: 4px; // aligns buttons
  }

  &.actor.sheet .tab.active.actions ol.actions-list .toggles button.selected {
    border: 1px solid var(--accent-color) !important;
  }

  // prettier-ignore
  &[data-color-scheme="dark"] button.double-barrel i.barrels {
    color: var(--bg-dark) !important;
  }

  // prettier-ignore
  &[data-color-scheme="dark"] button.double-barrel i.blast {
    color: var(--bg-dark) !important;
  }

  &.actor.sheet .window-content .item-summary .button-group button {
    @include dui-button-bright;
  }

  button[data-action="perform-daily-crafting"] {
    @include dui-button-bright;
  }

  &.pf2e.item.sheet form > nav > .tabs > a:last-of-type {
    // padding: 5px 10px; // unsets ugly system behaviour
  }

  &.pf2e.actor form input[type="text"],
  &.pf2e.actor form input[type="number"] {
    @include dui-input;
  }

  .tags.paizo-style .tag.rarity.common,
  .tags.paizo-style .tag.rarity[value="common"],
  .tags.paizo-style .tag.rarity > option[value="common"] {
    --dui-input-text-color: black;
  }

  &.pf2e.actor form .tag-legacy {
    // background: var(--color-secondary-4);
    border: unset;
    box-shadow: 0px 0px 0px 1px var(--contrastive-transparent) inset;
  }

  &.spellcasting-entry.preparation ol.spell-list > li .item-summary {
    border: unset;
    background: unset;
  }

  &.actor.sheet.character .crb-style .sheet-body .sheet-content .tab.effects .effects-list .item.unidentified {
    color: black;
    border-radius: var(--border-radius);
  }

  &.actor.npc.sheet form ol.spell-list > li .item-summary {
    background: unset; // system hardcoded color
    border-top: unset;
    border-bottom: unset;
  }

  &.actor.sheet .crb-style .sheet-body .sheet-content ol.spell-list > li .item-summary {
    border-top: unset; // system hardcoded color
  }
}

.actor.sheet:not([data-theme^="crb"]) {
  &.actor.sheet section.window-content .item-summary .description .addendum {
    border-radius: var(--border-radius);
    border: 1px solid var(--fieldset-border-color);
    background: var(--fieldset-background-color);
    color: var(--text-color-3);
  }
}

[data-theme],
[data-dorako-ui-scope="limited"] {
  .tags {
    --color-rarity-common: #323232;
  }

  &.spellcasting-entry.preparation ol.spell-list > li .item-name .item-image,
  &.actor.sheet section.window-content .item-image {
    @include dui-app;
    margin: 1px 2px;
    border: 1px solid;
    border-color: var(--icon-border-color);
    border-radius: 3px;
    img {
      border-radius: 2px;
    }
  }

  &.actor.sheet.character .crb-style .sheet-body .sheet-content .item-image.framed {
    border-radius: 3px;
    i {
      text-shadow: none;
    }
  }
}
